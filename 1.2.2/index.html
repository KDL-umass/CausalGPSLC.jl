<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documentation · GPSLC.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GPSLC.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Documentation</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Inference"><span>Inference</span></a></li><li class="toplevel"><a class="tocitem" href="#Treatment-Effects"><span>Treatment Effects</span></a></li><li><a class="tocitem" href="#Individual-Treatment-Effect-(ITE)"><span>Individual Treatment Effect (ITE)</span></a></li><li><a class="tocitem" href="#Sample-Average-Treatment-Effect-(SATE)"><span>Sample Average Treatment Effect (SATE)</span></a></li><li><a class="tocitem" href="#Counterfactual-Effects"><span>Counterfactual Effects</span></a></li><li><a class="tocitem" href="#Summarizing"><span>Summarizing</span></a></li><li class="toplevel"><a class="tocitem" href="#Examples"><span>Examples</span></a></li><li><a class="tocitem" href="#New-England-Energy-Consumption"><span>New England Energy Consumption</span></a></li><li class="toplevel"><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#External-Types"><span>External Types</span></a></li><li><a class="tocitem" href="#Internal-Types"><span>Internal Types</span></a></li></ul></li><li><a class="tocitem" href="contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/KDL-umass/GPSLC.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Gaussian-Processes-with-Structured-Latent-Confounders"><a class="docs-heading-anchor" href="#Gaussian-Processes-with-Structured-Latent-Confounders">Gaussian Processes with Structured Latent Confounders</a><a id="Gaussian-Processes-with-Structured-Latent-Confounders-1"></a><a class="docs-heading-anchor-permalink" href="#Gaussian-Processes-with-Structured-Latent-Confounders" title="Permalink"></a></h1><p><code>GPSLC.jl</code> is a Julia package for semi-parametric causal effect estimation with structured latent confounding. It provides interfaces for performing causal inference over the latent variables and Gaussian process parameters to produce accurate causal effect estimates.</p><p>The original GP-SLC paper can be found here: <a href="http://proceedings.mlr.press/v119/witty20a/witty20a.pdf">http://proceedings.mlr.press/v119/witty20a/witty20a.pdf</a>.</p><ul><li><a href="#Gaussian-Processes-with-Structured-Latent-Confounders">Gaussian Processes with Structured Latent Confounders</a></li><li><a href="#Inference">Inference</a></li><li><a href="#Treatment-Effects">Treatment Effects</a></li><li class="no-marker"><ul><li><a href="#Individual-Treatment-Effect-(ITE)">Individual Treatment Effect (ITE)</a></li><li><a href="#Sample-Average-Treatment-Effect-(SATE)">Sample Average Treatment Effect (SATE)</a></li><li><a href="#Counterfactual-Effects">Counterfactual Effects</a></li><li><a href="#Summarizing">Summarizing</a></li></ul></li><li><a href="#Examples">Examples</a></li><li class="no-marker"><ul><li><a href="#New-England-Energy-Consumption">New England Energy Consumption</a></li></ul></li><li><a href="#Types">Types</a></li><li class="no-marker"><ul><li><a href="#External-Types">External Types</a></li><li class="no-marker"><ul><li><a href="#HyperParameters">HyperParameters</a></li><li><a href="#PriorParameters">PriorParameters</a></li><li><a href="#GPSLCObject">GPSLCObject</a></li></ul></li><li><a href="#Internal-Types">Internal Types</a></li><li class="no-marker"><ul><li><a href="#Confounders">Confounders</a></li><li><a href="#Covariates">Covariates</a></li><li><a href="#Treatment">Treatment</a></li><li><a href="#Outcome">Outcome</a></li></ul></li></ul></li></ul><h1 id="Inference"><a class="docs-heading-anchor" href="#Inference">Inference</a><a id="Inference-1"></a><a class="docs-heading-anchor-permalink" href="#Inference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GPSLC.gpslc" href="#GPSLC.gpslc"><code>GPSLC.gpslc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gpslc(filename * &quot;.csv&quot;)
gpslc(filename * &quot;.csv&quot;; hyperparams=hyperparams, priorparams=priorparams))

gpslc(DataFrame(X1=...,X2=...,T=...,Y=...,obj=...))
gpslc(DataFrame(X1=...,X2=...,T=...,Y=...,obj=...); hyperparams=hyperparams, priorparams=priorparams)</code></pre><p>Run posterior inference on the input data.</p><p>Datatypes of DataFrame or CSV must follow these standards:</p><ul><li><code>T</code> (Boolean/Float64)</li><li><code>Y</code> (Float64)</li><li><code>X1...XN</code> (Float64...Float64)</li><li><code>obj</code> (Any)</li></ul><p>Optional parameters</p><ul><li><code>hyperparams::</code><a href="#GPSLC.HyperParameters"><code>HyperParameters</code></a>=<a href="#GPSLC.getHyperParameters"><code>getHyperParameters</code></a>(): Hyper parameters primarily define the high level amount of inference to perform.</li><li><code>priorparams::</code><a href="#GPSLC.PriorParameters"><code>PriorParameters</code></a>=<a href="#GPSLC.getPriorParameters"><code>getPriorParameters</code></a>(): Prior parameters define the high level priors to draw from when constructing kernel functions and latent confounder structure.</li></ul><p>Returns a <a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a> which stores the  hyperparameters, prior parameters, data, and posterior samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/driver.jl#L4-L26">source</a></section></article><p>The primary struct that we provide interfaces for is the <a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a>, which most of the high-level functions like the  <a href="#Treatment-Effects">treatment effect</a> functions take as input  in addition to their other arguments.</p><h1 id="Treatment-Effects"><a class="docs-heading-anchor" href="#Treatment-Effects">Treatment Effects</a><a id="Treatment-Effects-1"></a><a class="docs-heading-anchor-permalink" href="#Treatment-Effects" title="Permalink"></a></h1><h2 id="Individual-Treatment-Effect-(ITE)"><a class="docs-heading-anchor" href="#Individual-Treatment-Effect-(ITE)">Individual Treatment Effect (ITE)</a><a id="Individual-Treatment-Effect-(ITE)-1"></a><a class="docs-heading-anchor-permalink" href="#Individual-Treatment-Effect-(ITE)" title="Permalink"></a></h2><p>A contribution of the original GP-SLC paper is to produce accurate individual treatment effect estimates, conditioned on the observed data and using the inferred values of the latent confounders as determined by the provided structure.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.sampleITE" href="#GPSLC.sampleITE"><code>GPSLC.sampleITE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sampleITE(g, doT)
sampleITE(g, doT; samplesPerPosterior=10)</code></pre><p>Estimate Individual Treatment Effect with GPSLC model</p><p>Params:</p><ul><li><code>g::</code><a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a>: Contains data and hyperparameters</li><li><code>doT</code>: The requested intervention (e.g. set all treatments to 1.0)</li><li><code>samplesPerPosterior</code>: How many ITE samples to draw per posterior sample in <code>g</code>.</li></ul><p>Returns:</p><p><code>ITEsamples</code>: <code>n x m</code> matrix where <code>n</code> is the number of individuals, and <code>m</code> is the number of samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/driver.jl#L75-L88">source</a></section></article><h2 id="Sample-Average-Treatment-Effect-(SATE)"><a class="docs-heading-anchor" href="#Sample-Average-Treatment-Effect-(SATE)">Sample Average Treatment Effect (SATE)</a><a id="Sample-Average-Treatment-Effect-(SATE)-1"></a><a class="docs-heading-anchor-permalink" href="#Sample-Average-Treatment-Effect-(SATE)" title="Permalink"></a></h2><p>Another popular and useful treatment effect estimate is SATE,  which averages individual treatment effects over the individuals in the sample.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.sampleSATE" href="#GPSLC.sampleSATE"><code>GPSLC.sampleSATE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sampleSATE(g, doT)
sampleSATE(g, doT; samplesPerPosterior=10)</code></pre><p>Estimate Sample Average Treatment Effect with GPSLC model</p><p>Using <a href="#GPSLC.sampleITE"><code>sampleITE</code></a>, samples can be drawn for the sample average treatment effect</p><p>Params:</p><ul><li><code>g::</code><a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a>: Contains data and hyperparameters</li><li><code>doT</code>: The requested intervention (e.g. set all treatments to 1.0)</li><li><code>samplesPerPosterior</code>: How many samples to draw per posterior sample in <code>g</code>.</li></ul><p>Returns:</p><p><code>SATEsamples</code>: <code>n x m</code> matrix where <code>n</code> is the number of individuals, and <code>m</code> is the number of samples.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/driver.jl#L95-L110">source</a></section></article><h2 id="Counterfactual-Effects"><a class="docs-heading-anchor" href="#Counterfactual-Effects">Counterfactual Effects</a><a id="Counterfactual-Effects-1"></a><a class="docs-heading-anchor-permalink" href="#Counterfactual-Effects" title="Permalink"></a></h2><p>It can be helpful to calculate treatment effect estimates for the whole domain of treatment values in the data, or some subset, as in the <a href="#Examples">example</a> below. For this we can use <code>predictCounterfactualEffects</code>, which also tracks the values of the <code>doT</code> intervention values for comparison.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.predictCounterfactualEffects" href="#GPSLC.predictCounterfactualEffects"><code>GPSLC.predictCounterfactualEffects</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">predictCounterfactualOutcomes(g, nSamplesPerMixture)
predictCounterfactualOutcomes(g, nSamplesPerMixture; fidelity=100)
predictCounterfactualOutcomes(g, nSamplesPerMixture; fidelity=100, minDoT=0, maxDoT=5)</code></pre><p>Params</p><ul><li><code>g::</code><a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a>: The <code>GPSLCObject</code> that inference has already been computed for.</li><li><code>nSamplesPerMixture::Int64</code>: The number of outcome samples to </li></ul><p>draw from each set of inferred posterior parameters.</p><ul><li><code>fidelity::Int64</code>: How many intervention values to use to cover the domain of treatment values. Higher means more samples.</li><li><code>minDoT::Float64=min(g.T...)</code>: The lowest interventional treatment to use.Defaults to the data <code>g.T</code>&#39;s lowest treatment value.</li><li><code>maxDoT::Float64=max(g.T...)</code>: The highest interventional treatment to use. Defaults to the data <code>g.T</code>&#39;s highest treatment value.</li></ul><pre><code class="language-julia hljs">julia&gt; ite, doT = predictCounterfactualEffects(g, 30; fidelity=100)</code></pre><p>Returns </p><ul><li><code>ite::Matrix{Float64}</code>: An array of size <code>[d, n, numPosteriorSamples * nSamplesPerMixture]</code> where d is the number of interventional values defined by <code>fidelity</code> and the range of treatments in <code>g.T</code> - <code>doTrange::Vector{Float64}</code>: The list values of doT used, in order that matches the rows of <code>ite</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/prediction.jl#L3-L22">source</a></section></article><h2 id="Summarizing"><a class="docs-heading-anchor" href="#Summarizing">Summarizing</a><a id="Summarizing-1"></a><a class="docs-heading-anchor-permalink" href="#Summarizing" title="Permalink"></a></h2><p>It can be helpful to summarize the inferred individual treatment effects and sample average treatment effects into mean and credible intervals. A use case for this is demonstrated in the <a href="#Examples">examples</a> section.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.summarizeEstimates" href="#GPSLC.summarizeEstimates"><code>GPSLC.summarizeEstimates</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">summarizeEstimates(samples)
summarizeEstimates(samples; savetofile=&quot;ite_samples.csv&quot;)</code></pre><p>Summarize Predicted Estimates (Counterfactual Outcomes or Individual Treatment Effects)</p><p>Create dataframe of mean, lower and upper quantiles of the samples from <a href="#GPSLC.sampleITE"><code>sampleITE</code></a> or <a href="#GPSLC.predictCounterfactualEffects"><code>predictCounterfactualEffects</code></a>.</p><p>Params:</p><ul><li><code>samples</code>: <code>n x m</code> array of samples</li><li><code>savetofile</code>: Optionally save the resultant dataframe as CSV to the filename passed.</li></ul><p>Returns:</p><ul><li><code>df</code>: Dataframe of Individual, Mean, LowerBound, and UpperBound values for the credible intervals around the sample.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/driver.jl#L117-L130">source</a></section></article><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>The examples below illustrate use cases for</p><ul><li>setting hyperparameters, </li><li>performing inference,</li><li>saving inference results,</li><li>predicting counterfactual effects,</li><li>calculating sample average treatment effect (SATE),</li><li>computing credible intervals for SATE,</li><li>and plotting those intervals relative to the original data</li></ul><h2 id="New-England-Energy-Consumption"><a class="docs-heading-anchor" href="#New-England-Energy-Consumption">New England Energy Consumption</a><a id="New-England-Energy-Consumption-1"></a><a class="docs-heading-anchor-permalink" href="#New-England-Energy-Consumption" title="Permalink"></a></h2><p>This example creates an example plot of the NEEC treatment vs outcome data. Plots the original and the intervened data together. The example below is similar to Figure 3 in the original GP-SLC paper.</p><pre><code class="language- hljs">import Random # hide
Random.seed!(1234) # hide
using GPSLC # hide
using Plots # hide
using Statistics # hide

# set hyperparameters
hyperparams = getHyperParameters()
hyperparams.nOuter = 25
hyperparams.nU = 2
hyperparams.nMHInner = 3
hyperparams.nESInner = 5

# run inference
dataFile = &quot;../example_data/NEEC_sampled.csv&quot;
g = gpslc(dataFile; hyperparams=hyperparams)
saveGPSLCObject(g, &quot;exampleGPSLCObject&quot;)

# collect counterfactual outcomes
maIdx = vec(g.obj .== &quot;MA&quot;)
nSamples = 100
ite, doT = predictCounterfactualEffects(g, nSamples)
maITE = ite[:, maIdx, :]

# get credible interval on counterfactual outcomes
sate = mean(maITE, dims=2)[:, 1, :]
interval = summarizeEstimates(sate)

meanOutcome = mean(g.Y[maIdx])
lowerSATE = interval[!, &quot;LowerBound&quot;]
meanSATE = interval[!, &quot;Mean&quot;]
upperSATE = interval[!, &quot;UpperBound&quot;]

# plot outcomes and credible interval
treatmentScale = 100
outcomeScale = 10

# observed data
plot(legend=:outertopright, size=(750, 400), margin=0.5Plots.cm, dpi=600)
obsT = g.T[maIdx] .* treatmentScale
obsY = g.Y[maIdx] .* outcomeScale
scatter!(obsT, obsY, label=&quot;MA obs&quot;, markershape=:circle)

# counterfactual
Tcf = doT .* treatmentScale
Ycf = (meanOutcome .+ meanSATE) .* outcomeScale
upper = (upperSATE .- meanSATE) .* outcomeScale
lower = (meanSATE .- lowerSATE) .* outcomeScale

plot!(Tcf, Ycf, label=&quot;MA cf&quot;, color=:green,
    ribbon=(lower, upper))

xlabel!(&quot;Temperature °F&quot;)
ylabel!(&quot;Energy Consumption (GWh)&quot;)
title!(&quot;Energy Consumption for Massachusetts&quot;)</code></pre><p>Above we can see the Gaussian Process using individual treatment effect estimates to predict the energy consumption (outcome) from the temperature (treatment) for Massachusetts. The shaded region is a 90% credible interval from the samples taken by <a href="#GPSLC.predictCounterfactualEffects"><code>predictCounterfactualEffects</code></a> and processed by <a href="#GPSLC.summarizeEstimates"><code>summarizeEstimates</code></a> which calculates the credible intervals by computing the 5<em>th</em> and 95<em>th</em> percentiles of the samples.</p><p>The data used in this example can be found <a href="../example_data/NEEC_sampled.csv">here</a>.</p><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><h2 id="External-Types"><a class="docs-heading-anchor" href="#External-Types">External Types</a><a id="External-Types-1"></a><a class="docs-heading-anchor-permalink" href="#External-Types" title="Permalink"></a></h2><p>External types are those relevant for using <code>GPSLC.jl</code> in a high-level way,  where inference and prediction are automatically performed.</p><h3 id="HyperParameters"><a class="docs-heading-anchor" href="#HyperParameters">HyperParameters</a><a id="HyperParameters-1"></a><a class="docs-heading-anchor-permalink" href="#HyperParameters" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.HyperParameters" href="#GPSLC.HyperParameters"><code>GPSLC.HyperParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HyperParameters</code></pre><p>Define the high-level attributes of the inference procedure. More information on each of the attributes can be found in <a href="#GPSLC.getHyperParameters"><code>getHyperParameters</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L18-L21">source</a></section></article><p>The default values for <a href="#GPSLC.HyperParameters"><code>HyperParameters</code></a> are provided by</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getHyperParameters" href="#GPSLC.getHyperParameters"><code>GPSLC.getHyperParameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getHyperParameters()</code></pre><p>Returns default values for hyperparameters</p><ul><li><code>nU = 1</code>: Number of latent confounding variables assumed to be influencing all the instances that belong to one object. Inference will be performed over these values.</li><li><code>nOuter = 20</code>: Number of posterior samples to draw.</li><li><code>nMHInner = 5</code>: Number of internal Metropolis-Hastings updates to make per posterior sample.</li><li><code>nESInner = 5</code>: Number of elliptical-slice sampling updates to make per posterior for latent confounders and binary treatment.</li><li><code>nBurnIn = 5</code>: Number of posterior samples to discard when making predictions and estimates.</li><li><code>stepSize = 1</code>: How frequently to use posterior samples (1 being every one after burnIn, higher being every <code>stepSize</code><em>th</em>).</li><li><code>predictionCovarianceNoise=1e-10</code>: Predicting with Gaussian processes requires use of covariance matrices that are Symmetric Positive Definite, and this covariance noise on the diagonal ensures these operations can be performed in a stable and consistent way.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/hyperparameters.jl#L72-L84">source</a></section></article><h3 id="PriorParameters"><a class="docs-heading-anchor" href="#PriorParameters">PriorParameters</a><a id="PriorParameters-1"></a><a class="docs-heading-anchor-permalink" href="#PriorParameters" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.PriorParameters" href="#GPSLC.PriorParameters"><code>GPSLC.PriorParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PriorParameters</code></pre><p>A dictionary of shapes and scales for various Inverse Gamma distributions used as priors for kernel parameters and other parameters. More information on each of the attributes can be found in <a href="#GPSLC.getPriorParameters"><code>getPriorParameters</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L60-L63">source</a></section></article><p>The default values for <a href="#GPSLC.PriorParameters"><code>PriorParameters</code></a> are provided by</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getPriorParameters" href="#GPSLC.getPriorParameters"><code>GPSLC.getPriorParameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getPriorParameters()</code></pre><p>These are standard values for scale and shape of Inverse Gamma priors over kernel parameters, confounder structure covariance noise, and confounder Gaussian prior covariance. </p><ul><li><code>uNoiseShape::Float64=4.0</code>: shape of the InvGamma prior over the noise of U</li><li><code>uNoiseScale::Float64=4.0</code>: scale of the InvGamma prior over the noise of U</li><li><code>xNoiseShape::Float64=4.0</code>: shape of the InvGamma prior over the noise of X</li><li><code>xNoiseScale::Float64=4.0</code>: scale of the InvGamma prior over the noise of X</li><li><code>tNoiseShape::Float64=4.0</code>: shape of the InvGamma prior over the noise of T</li><li><code>tNoiseScale::Float64=4.0</code>: scale of the InvGamma prior over the noise of T</li><li><code>yNoiseShape::Float64=4.0</code>: shape of the InvGamma prior over the noise of Y</li><li><code>yNoiseScale::Float64=4.0</code>: scale of the InvGamma prior over the noise of Y</li><li><code>xScaleShape::Float64=4.0</code>: shape of the InvGamma prior over kernel scale of X</li><li><code>xScaleScale::Float64=4.0</code>: scale of the InvGamma prior over kernel scale of X</li><li><code>tScaleShape::Float64=4.0</code>: shape of the InvGamma prior over kernel scale of T</li><li><code>tScaleScale::Float64=4.0</code>: scale of the InvGamma prior over kernel scale of T</li><li><code>yScaleShape::Float64=4.0</code>: shape of the InvGamma prior over kernel scale of Y</li><li><code>yScaleScale::Float64=4.0</code>: scale of the InvGamma prior over kernel scale of Y</li><li><code>uxLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of U and X</li><li><code>uxLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of U and X</li><li><code>utLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of U and T</li><li><code>utLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of U and T</li><li><code>xtLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of X and T</li><li><code>xtLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of X and T</li><li><code>uyLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of U and Y</li><li><code>uyLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of U and Y</li><li><code>xyLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of X and Y</li><li><code>xyLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of X and Y</li><li><code>tyLSShape::Float64=4.0</code>: shape of the InvGamma prior over kernel lengthscale of T and Y</li><li><code>tyLSScale::Float64=4.0</code>: scale of the InvGamma prior over kernel lengthscale of T and Y</li><li><code>sigmaUNoise::Float64=1.0e-13</code>: noise added to matrix to make covariance stable and invertible</li><li><code>sigmaUCov::Float64=1.0</code>: assumed covariance over structured confounders</li><li><code>drift::Float64=0.5</code>: as in the paper, Metropolis Hastings Gaussian Drift</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/hyperparameters.jl#L3-L37">source</a></section></article><h3 id="GPSLCObject"><a class="docs-heading-anchor" href="#GPSLCObject">GPSLCObject</a><a id="GPSLCObject-1"></a><a class="docs-heading-anchor-permalink" href="#GPSLCObject" title="Permalink"></a></h3><p>The <code>GPSLCObject</code> is the high-level Julia struct that most of the externally facing interfaces rely on to perform their operations. Since it contains inference samples, the hyperparameters, and the observed data, it is at the center of all post-inference interfaces that manipulate the posterior samples according to the observed data. </p><p>This also means that the <code>GPSLCObject</code> contains the result of a large portion  of compute time, as well as contains all the relevant data for a given workflow.  For this reason, all the fields and functions that utilize it are externally available, and described below, to provide users with a simple way to extend the functionality  of <code>GPSLC.jl</code> and estimate other quantities of interest.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.GPSLCObject" href="#GPSLC.GPSLCObject"><code>GPSLC.GPSLCObject</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GPSLCObject</code></pre><p>This is the struct in GPSLC.jl that contains the data, hyperparamters, prior parameters, and posterior samples. It provides the primary interfaces to abstract the internals of GPSLC away from the higher-order functions like <a href="#GPSLC.sampleITE"><code>sampleITE</code></a>, <a href="#GPSLC.sampleSATE"><code>sampleSATE</code></a>, and <a href="#GPSLC.predictCounterfactualEffects"><code>predictCounterfactualEffects</code></a>.</p><p>Returned by <a href="#GPSLC.gpslc"><code>gpslc</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L242-L248">source</a></section></article><h4 id="Retrieving-meta-values-from-a-GPSLCObject"><a class="docs-heading-anchor" href="#Retrieving-meta-values-from-a-GPSLCObject">Retrieving meta-values from a <code>GPSLCObject</code></a><a id="Retrieving-meta-values-from-a-GPSLCObject-1"></a><a class="docs-heading-anchor-permalink" href="#Retrieving-meta-values-from-a-GPSLCObject" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getN" href="#GPSLC.getN"><code>GPSLC.getN</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getN(g)</code></pre><p>Number of individuals in dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/utils.jl#L126-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getNX" href="#GPSLC.getNX"><code>GPSLC.getNX</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getNX(g)</code></pre><p>Number of covariates (and observed confounders) in dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/utils.jl#L134-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getNU" href="#GPSLC.getNU"><code>GPSLC.getNU</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getNU(g)</code></pre><p>Number of latent confounders to perform inference over (hyperparameter).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/utils.jl#L142-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPSLC.getNumPosteriorSamples" href="#GPSLC.getNumPosteriorSamples"><code>GPSLC.getNumPosteriorSamples</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getNumPosteriorSamples(g)</code></pre><p>Number of posterior samples that will be used based on hyperparameters.</p><p><code>(total posterior samples - burn in) / step size = nBurnIn:stepSize:nOuter</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/utils.jl#L150-L155">source</a></section></article><h4 id="Saving-and-loading-GPSLCObjects"><a class="docs-heading-anchor" href="#Saving-and-loading-GPSLCObjects">Saving and loading <code>GPSLCObject</code>s</a><a id="Saving-and-loading-GPSLCObjects-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-and-loading-GPSLCObjects" title="Permalink"></a></h4><p><code>GPSLCObject</code>s contain all the posterior samples, which can be intensive to calculate and can be reused for various estimations, we provide a pair of interfaces to save and load the <code>GPSLCObjects</code> from the filesystem.</p><article class="docstring"><header><a class="docstring-binding" id="GPSLC.saveGPSLCObject" href="#GPSLC.saveGPSLCObject"><code>GPSLC.saveGPSLCObject</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">saveGPSLCObject(g, filename)
saveGPSLCObject(g, &quot;path/to/filename&quot;)
saveGPSLCObject(g, &quot;path/to/filename.gpslc&quot;)</code></pre><p>This function will save the <a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a> <code>g</code> to the file <code>&lt;filename&gt;.gpslc</code>. This <a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a>, including the posterior samples contained within it can be retrieved with the <a href="#GPSLC.loadGPSLCObject"><code>loadGPSLCObject</code></a> function.</p><p>Note: The extension <code>.gpslc</code> is optional and will be added if it is not included.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/io.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPSLC.loadGPSLCObject" href="#GPSLC.loadGPSLCObject"><code>GPSLC.loadGPSLCObject</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">loadGPSLCObject(filename)
loadGPSLCObject(&quot;path/to/filename&quot;)
loadGPSLCObject(&quot;path/to/filename.gpslc&quot;)</code></pre><p>This function will load and return the <a href="#GPSLC.GPSLCObject"><code>GPSLCObject</code></a> contained in <code>&lt;filename&gt;.gpslc</code>. </p><p>Note: the extension <code>.gpslc</code> is optional and will be added if it is not included.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/io.jl#L21-L28">source</a></section></article><h2 id="Internal-Types"><a class="docs-heading-anchor" href="#Internal-Types">Internal Types</a><a id="Internal-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Types" title="Permalink"></a></h2><p>These types are are used in internal inference procedures, so if users need to fine tune or modify the inference procedure,  or access the model directly, these will be relevant.</p><h3 id="Confounders"><a class="docs-heading-anchor" href="#Confounders">Confounders</a><a id="Confounders-1"></a><a class="docs-heading-anchor-permalink" href="#Confounders" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.Confounders" href="#GPSLC.Confounders"><code>GPSLC.Confounders</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Confounders (U)</code></pre><p>Latent confounders that GPSLC performs inference over.</p><p>Either 1D or 2D matrices of <code>Float64</code> values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L79-L84">source</a></section></article><h3 id="Covariates"><a class="docs-heading-anchor" href="#Covariates">Covariates</a><a id="Covariates-1"></a><a class="docs-heading-anchor-permalink" href="#Covariates" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.Covariates" href="#GPSLC.Covariates"><code>GPSLC.Covariates</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Covariates (X) Observed confounders and covariates.</p><p><code>Matrix{Float64}</code> is the only valid structure for covariates</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L97-L102">source</a></section></article><h3 id="Treatment"><a class="docs-heading-anchor" href="#Treatment">Treatment</a><a id="Treatment-1"></a><a class="docs-heading-anchor-permalink" href="#Treatment" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.Treatment" href="#GPSLC.Treatment"><code>GPSLC.Treatment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Treatment (T)</code></pre><p>Is made up of <code>BinaryTreatment</code> which is an alias for <code>Vector{Bool}</code> and <code>ContinuousTreatment</code> which is an alias for <code>Vector{Float64}</code>. These types support other vector types to afford compatibility with internal libraries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L119-L123">source</a></section></article><h3 id="Outcome"><a class="docs-heading-anchor" href="#Outcome">Outcome</a><a id="Outcome-1"></a><a class="docs-heading-anchor-permalink" href="#Outcome" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPSLC.Outcome" href="#GPSLC.Outcome"><code>GPSLC.Outcome</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Outcome (Y)</code></pre><p>The outcome for the series of Gaussian Process predictions is a <code>Vector{Float64}</code>. Currently only continuous values are supported as outcomes for input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KDL-umass/GPSLC.jl/blob/b880659b2d612a4d3750630ba2cc783a4bb1404e/src/types.jl#L129-L132">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="contributing/">Contributing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.18 on <span class="colophon-date" title="Thursday 26 May 2022 04:53">Thursday 26 May 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
